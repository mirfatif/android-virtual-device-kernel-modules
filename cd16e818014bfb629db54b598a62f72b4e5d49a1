{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3a417053_a90a3aa9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1576895
      },
      "writtenOn": "2021-03-24T17:34:03Z",
      "side": 1,
      "message": "This branch is affected by a bug introduced by https://r.android.com/q/I1b585177c7ebfbd95a494fc4e65150cd522517cb. This cherry-pick should fix the bug. These changes already exist in the android12-5.10 branch(virtio-gpu on this branch is added from Linux 5.10.1, CLs [1] and [2] are merged before 5.10.1[3]), so no need to cherry-pick these changes to the android12-5.10 branch.\n\nIn https://r.android.com/1612008, kvmalloc_array is used to allocate the memory. Without these 2 changes, kfree will be used to release that piece of memory(https://r.android.com/c/kernel/common/+/1651670/1/drivers/gpu/drm/virtio/virtgpu_vq.c#b157) which will lead to a kernel panic.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/commit/?h\u003dlinux-5.10.y\u0026id\u003d32d6c2c5b5227cfc6f796bbd760dab81b05f48e5\n[2] https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/commit/?h\u003dlinux-5.10.y\u0026id\u003de1218b8c0cc1f8108be67ba3783d63eb4a50d792\n[3] https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tag/?h\u003dv5.10.1",
      "revId": "cd16e818014bfb629db54b598a62f72b4e5d49a1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}