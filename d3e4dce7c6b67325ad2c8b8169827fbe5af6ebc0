{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "80e9cfbc_65127852",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-09-08T15:51:25Z",
      "side": 1,
      "message": "I can\u0027t +2 here, but Will can.\n\nSome questions:\n\n1. is this only for ARM? If not, why don\u0027t we enable it for x86_64 as well?\n2. will there be a test for this? ex: we run a payload that intentionaly stalls and check if it is detected as expected",
      "revId": "d3e4dce7c6b67325ad2c8b8169827fbe5af6ebc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ac513d2_7951de95",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1942270
      },
      "writtenOn": "2022-09-08T16:06:03Z",
      "side": 1,
      "message": "Thanks for looking on this. I will try and answer your questions:\n1. Currently this is only for aarch64 as this is implemented in crosvm only for this arch but I don\u0027t see any reason why it wouldn\u0027t work in the future for x86. As long as the guest provides /proc/stat/::guest_info.\n\n2. I added some tests recently as part of the crosvm backend implementation(for reference : https://chromium-review.googlesource.com/c/crosvm/crosvm/+/3872276) . To test a stalling guest it will be a bit more complicated because you will need a custom guest kernel image that can trigger this condition.\nLet me know what do you think of this.\n\nCheers",
      "parentUuid": "80e9cfbc_65127852",
      "revId": "d3e4dce7c6b67325ad2c8b8169827fbe5af6ebc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a602398_8f642a07",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-09-08T16:22:16Z",
      "side": 1,
      "message": "Non-blocking question.\n\nWhen the watchdog expires, the VM is reset, right? How one can distinguish such an event from other resets?",
      "revId": "d3e4dce7c6b67325ad2c8b8169827fbe5af6ebc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eea4b00c_e268ecfa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-09-08T16:22:16Z",
      "side": 1,
      "message": "Thanks. If supporting x86 requires some work in crosvm, let\u0027s keep this in this way. I can\u0027t justify the effort.\n\nIf there\u0027s some test running as part of crosvm unittests, I feel fine.",
      "parentUuid": "2ac513d2_7951de95",
      "revId": "d3e4dce7c6b67325ad2c8b8169827fbe5af6ebc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a245410_9bc398b8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1942270
      },
      "writtenOn": "2022-09-08T16:33:09Z",
      "side": 1,
      "message": "I think I need to elaborate this a bit more because the only difference that we have right now is only a log in crosvm (to be more precise a warn) but this isn\u0027t what I want. I was thinking if it makes sense to have a mechanism to notify the VirtualisationService without adding too much \u0027custom\u0027 logic in crosvm.",
      "parentUuid": "3a602398_8f642a07",
      "revId": "d3e4dce7c6b67325ad2c8b8169827fbe5af6ebc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61659001_6cd6b8df",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-09-08T16:35:37Z",
      "side": 1,
      "message": "Yes. A shutdown caused by a watchdog bite shouldn\u0027t be confused with a successful and intentional shutdown of the VM, I think.",
      "parentUuid": "1a245410_9bc398b8",
      "revId": "d3e4dce7c6b67325ad2c8b8169827fbe5af6ebc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}